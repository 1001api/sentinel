package components

import "github.com/hubkudev/sentinel/entities"

type DrawerType int

const (
	DRAWER_DASHBOARD DrawerType = iota
	DRAWER_EVENTS
	DRAWER_PROJECTS
	DRAWER_API_KEYS
)

templ Drawer(user *entities.User, active DrawerType) {
	<div class="antialiased bg-gray-50 dark:bg-gray-900">
		<nav class="bg-white border-b border-gray-200 px-4 py-2.5 dark:bg-gray-800 dark:border-gray-700 fixed left-0 right-0 top-0 z-50">
			<div class="flex flex-wrap justify-between items-center">
				<div class="flex justify-start items-center">
					<button
						data-drawer-target="drawer-navigation"
						data-drawer-toggle="drawer-navigation"
						aria-controls="drawer-navigation"
						class="p-2 mr-2 text-gray-600 rounded-lg cursor-pointer md:hidden hover:text-gray-900 hover:bg-gray-100 focus:bg-gray-100 dark:focus:bg-gray-700 focus:ring-2 focus:ring-gray-100 dark:focus:ring-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"
					>
						<svg
							aria-hidden="true"
							class="w-6 h-6"
							fill="currentColor"
							viewBox="0 0 20 20"
							xmlns="http://www.w3.org/2000/svg"
						>
							<path
								fill-rule="evenodd"
								d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h6a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"
								clip-rule="evenodd"
							></path>
						</svg>
						<svg
							aria-hidden="true"
							class="hidden w-6 h-6"
							fill="currentColor"
							viewBox="0 0 20 20"
							xmlns="http://www.w3.org/2000/svg"
						>
							<path
								fill-rule="evenodd"
								d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
								clip-rule="evenodd"
							></path>
						</svg>
						<span class="sr-only">Toggle sidebar</span>
					</button>
					<a href="/dashboard" class="mx-2 flex gap-1 items-center justify-between mr-4">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
							<path d="M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"></path>
							<path fill-rule="evenodd" d="M1.323 11.447C2.811 6.976 7.028 3.75 12.001 3.75c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113-1.487 4.471-5.705 7.697-10.677 7.697-4.97 0-9.186-3.223-10.675-7.69a1.762 1.762 0 0 1 0-1.113ZM17.25 12a5.25 5.25 0 1 1-10.5 0 5.25 5.25 0 0 1 10.5 0Z" clip-rule="evenodd"></path>
						</svg>
						<span class="self-center text-2xl font-semibold whitespace-nowrap dark:text-white">Sentinel.</span>
					</a>
				</div>
				<div class="flex items-center lg:order-2">
					<!-- Avatar -->
					<button
						type="button"
						class="flex mx-3 text-sm bg-gray-800 rounded-full md:mr-0 focus:ring-4 focus:ring-gray-300 dark:focus:ring-gray-600"
						id="user-menu-button"
						aria-expanded="false"
						data-dropdown-toggle="dropdown"
					>
						<span class="sr-only">Open user menu</span>
						<img
							class="w-8 h-8 rounded-full"
							src={ user.ProfileURL.String }
							alt="avatar"
							referrerpolicy="no-referrer"
						/>
					</button>
					<!-- Dropdown menu -->
					<div
						class="hidden z-50 my-4 w-56 text-base list-none bg-white rounded divide-y divide-gray-100 shadow dark:bg-gray-700 dark:divide-gray-600 rounded-xl"
						id="dropdown"
					>
						<div class="py-3 px-4">
							<span
								class="block text-sm font-semibold text-gray-900 dark:text-white"
							>{ user.Fullname }</span>
						</div>
						<ul
							class="py-1 text-gray-700 dark:text-gray-300"
							aria-labelledby="dropdown"
						>
							<li>
								<a
									href="/auth/logout"
									class="block py-2 px-4 text-sm hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"
								>Sign out</a>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</nav>
		<!-- Sidebar -->
		<aside
			class="fixed top-0 left-0 z-40 w-64 h-screen pt-14 transition-transform -translate-x-full bg-white border-r border-gray-200 md:translate-x-0 dark:bg-gray-800 dark:border-gray-700"
			aria-label="Sidenav"
			id="drawer-navigation"
		>
			<div class="overflow-y-auto py-5 px-3 h-full bg-white dark:bg-gray-800">
				<ul class="space-y-2">
					<li>
						<a
							href="/dashboard"
							class={ "flex items-center p-2 text-base font-medium text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group", templ.KV("bg-gray-300 hover:bg-gray-300 dark:bg-gray-700", active == DRAWER_DASHBOARD) }
						>
							<svg
								aria-hidden="true"
								class="w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white"
								fill="currentColor"
								viewBox="0 0 20 20"
								xmlns="http://www.w3.org/2000/svg"
							>
								<path d="M2 10a8 8 0 018-8v8h8a8 8 0 11-16 0z"></path>
								<path d="M12 2.252A8.014 8.014 0 0117.748 8H12V2.252z"></path>
							</svg>
							<span class="ml-3">Overview</span>
						</a>
					</li>
					<li>
						<a
							href="/events"
							class={ "flex items-center p-2 text-base font-medium text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group", templ.KV("bg-gray-300 hover:bg-gray-300 dark:bg-gray-700", active == DRAWER_EVENTS) }
						>
							<svg
								xmlns="http://www.w3.org/2000/svg"
								viewBox="0 0 24 24"
								fill="currentColor"
								class="flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white"
							>
								<path fill-rule="evenodd" d="M14.615 1.595a.75.75 0 0 1 .359.852L12.982 9.75h7.268a.75.75 0 0 1 .548 1.262l-10.5 11.25a.75.75 0 0 1-1.272-.71l1.992-7.302H3.75a.75.75 0 0 1-.548-1.262l10.5-11.25a.75.75 0 0 1 .913-.143Z" clip-rule="evenodd"></path>
							</svg>
							<span class="ml-3">Events</span>
						</a>
					</li>
					<li>
						<a
							href="/projects"
							class={ "flex items-center p-2 text-base font-medium text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group", templ.KV("bg-gray-300 hover:bg-gray-300 dark:bg-gray-700", active == DRAWER_PROJECTS) }
						>
							<svg
								aria-hidden="true"
								class="flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white"
								fill="currentColor"
								viewBox="0 0 20 20"
								xmlns="http://www.w3.org/2000/svg"
							>
								<path
									d="M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"
								></path>
							</svg>
							<span class="ml-3">Projects</span>
						</a>
					</li>
					<li>
						<a
							href="/api-keys"
							class={ "flex items-center p-2 text-base font-medium text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group", templ.KV("bg-gray-300 hover:bg-gray-300 dark:bg-gray-700", active == DRAWER_API_KEYS) }
						>
							<svg
								xmlns="http://www.w3.org/2000/svg"
								viewBox="0 0 24 24"
								fill="currentColor"
								class="flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white"
							>
								<path fill-rule="evenodd" d="M15.75 1.5a6.75 6.75 0 0 0-6.651 7.906c.067.39-.032.717-.221.906l-6.5 6.499a3 3 0 0 0-.878 2.121v2.818c0 .414.336.75.75.75H6a.75.75 0 0 0 .75-.75v-1.5h1.5A.75.75 0 0 0 9 19.5V18h1.5a.75.75 0 0 0 .53-.22l2.658-2.658c.19-.189.517-.288.906-.22A6.75 6.75 0 1 0 15.75 1.5Zm0 3a.75.75 0 0 0 0 1.5A2.25 2.25 0 0 1 18 8.25a.75.75 0 0 0 1.5 0 3.75 3.75 0 0 0-3.75-3.75Z" clip-rule="evenodd"></path>
							</svg>
							<span class="ml-3">API Keys</span>
						</a>
					</li>
				</ul>
			</div>
		</aside>
		<main class="p-4 md:ml-64 h-auto pt-20 bg-gray-50 dark:bg-gray-900 antialiased min-h-screen">
			{ children... }
		</main>
	</div>
}
